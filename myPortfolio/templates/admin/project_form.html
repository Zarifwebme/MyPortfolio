{% extends 'admin/base.html' %}
{% block content %}
<h1 class="mb-3">{{ 'Edit' if item else 'Create' }} Project</h1>
<form method="post" enctype="multipart/form-data">
	<div class="mb-3">
		<label class="form-label">Title</label>
		<input class="form-control" name="title" value="{{ item.title if item else '' }}" required />
	</div>
	<div class="mb-3">
		<label class="form-label">Description</label>
		<textarea class="form-control" rows="5" name="description" required>{{ item.description if item else '' }}</textarea>
	</div>
	<div class="mb-3">
		<label class="form-label">Tech Stack</label>
		<input class="form-control" name="tech_stack" value="{{ item.tech_stack if item else '' }}" />
	</div>
	<div class="row g-3">
		<div class="col-md-6">
			<label class="form-label">GitHub Link</label>
			<input class="form-control" name="github_link" value="{{ item.github_link if item else '' }}" />
		</div>
		<div class="col-md-6">
			<label class="form-label">Demo Link</label>
			<input class="form-control" name="demo_link" value="{{ item.demo_link if item else '' }}" />
		</div>
	</div>
	<div class="mb-3 mt-3">
		<label class="form-label">Project Image</label>
		<input class="form-control" type="file" name="image" accept="image/*" />
		{% if item and item.image_url %}
			<div class="mt-2 d-flex align-items-center gap-3">
				<img src="{{ item.image_url }}" alt="{{ item.title }}" style="max-height: 120px; border-radius: .5rem; border: 1px solid #e5e7eb;" />
				<div class="form-check">
					<input class="form-check-input" type="checkbox" name="remove_image" id="remove_image">
					<label class="form-check-label" for="remove_image">Remove existing image</label>
				</div>
			</div>
		{% endif %}
	</div>
	<div class="mt-3">
		<button class="btn btn-primary">Save</button>
		<a class="btn btn-secondary" href="{{ url_for('admin.admin_projects') }}">Cancel</a>
	</div>
</form>
{% endblock %}
